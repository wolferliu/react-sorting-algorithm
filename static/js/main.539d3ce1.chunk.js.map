{"version":3,"sources":["sorting.js","App.js","index.js"],"names":["ACTION_HIGHLIGHT","ACTION_SWAP","initRandomArray","begin","end","count","ret","i","push","getRandomInt","Math","floor","random","swap","a","p1","p2","tmp","TheBars","props","h","highlighting","bars","numbers","map","item","index","myStyle","height","myClass","indexOf","flipId","className","style","flipKey","join","onComplete","spring","staggerConfig","default","speed","App","useState","numberList","setNumberList","highlight","setHighlight","isRunning","useRef","actionIndexRef","sortActions","showNextAction","current","action","payload","prevList","tmp1","tmp2","swapAndReturn","length","setTimeout","delay","alert","onClick","innerArray","len","minIndex","j","selectionSort","bubbleSort","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.539d3ce1.chunk.js","sourcesContent":["const ACTION_HIGHLIGHT = \"highlight\";\nconst ACTION_SWAP = \"swap\";\n\nfunction initRandomArray(begin, end, count) {\n  let ret = [];\n  for (let i = 0; i < count; i++) {\n    ret.push(getRandomInt(begin, end));\n  }\n  return ret;\n}\n\nfunction getRandomInt(begin, end) {\n  return Math.floor(Math.random() * (end - begin)) + begin;\n}\n\nfunction swap(a, p1, p2) {\n  const tmp = a[p1];\n  a[p1] = a[p2];\n  a[p2] = tmp;\n}\n\nconst selectionSort = (numberList) => {\n  let innerArray = [...numberList];\n  const len = innerArray.length;\n  let sortActions = [];\n  for (let i = 0; i < len - 1; i++) {\n    let minIndex = i;\n    for (let j = i + 1; j < len; j++) {\n      sortActions.push({\n        action: ACTION_HIGHLIGHT,\n        payload: [i, minIndex, j],\n        delay: 500\n      });\n      if (innerArray[j] < innerArray[minIndex]) {\n        minIndex = j;\n      }\n    }\n    if (i !== minIndex) {\n      sortActions.push({\n        action: ACTION_SWAP,\n        payload: [i, minIndex],\n        delay: 1000\n      });\n      swap(innerArray, i, minIndex);\n      //        console.log(i + \", \" + minIndex);\n    }\n  }\n  return sortActions;\n};\n\nconst bubbleSort = (numberList) => {\n  let innerArray = [...numberList];\n  const len = innerArray.length;\n  let sortActions = [];\n  for (let i = 0; i < len - 1; i++) {\n    for (let j = 0; j < len - 1 - i; j++) {\n      sortActions.push({\n        action: ACTION_HIGHLIGHT,\n        payload: [j, j + 1],\n        delay: 500\n      });\n      if (innerArray[j + 1] < innerArray[j]) {\n        sortActions.push({\n          action: ACTION_SWAP,\n          payload: [j, j + 1],\n          delay: 1000\n        });\n        swap(innerArray, j, j + 1);\n      }\n    }\n  }\n  return sortActions;\n};\n\nexport {\n  ACTION_HIGHLIGHT,\n  ACTION_SWAP,\n  initRandomArray,\n  selectionSort,\n  bubbleSort\n};\n","import \"./styles.css\";\n//import PropTypes from \"prop-types\";\nimport { useState, useRef } from \"react\";\nimport { Flipper, Flipped } from \"react-flip-toolkit\";\nimport {\n  ACTION_HIGHLIGHT,\n  bubbleSort,\n  initRandomArray,\n  selectionSort\n} from \"./sorting\";\nconst numberInArray = 10;\n\nfunction TheBars(props) {\n  const h = props.highlighting;\n  let bars = props.numbers.map((item, index) => {\n    const myStyle = { height: item * 10 };\n    const myClass = \"bar \" + (h.indexOf(index) === -1 ? \"\" : \" bar-highlight\");\n    return (\n      <Flipped key={index} flipId={item}>\n        <div className={myClass} style={myStyle}>\n          <span>{item}</span>\n        </div>\n      </Flipped>\n    );\n  });\n  const handleComplete = () => {\n    //console.log(\"handleComplete\");\n  };\n  return (\n    <Flipper\n      className=\"bar-container\"\n      flipKey={props.numbers.join(\"\") + \"-\" + props.highlighting.join(\"\")}\n      onComplete={handleComplete}\n      spring=\"gentle\"\n      staggerConfig={{\n        // the \"default\" config will apply to staggered elements without explicit keys\n        default: {\n          // default is .1, 0 < n < 1\n          speed: 0.9\n        }\n      }}\n    >\n      {bars}\n    </Flipper>\n  );\n}\n\nfunction swapAndReturn(a, p1, p2) {\n  const tmp1 = a[p1];\n  const tmp2 = a[p2];\n  return a.map((item, index) => {\n    if (index === p1) return tmp2;\n    if (index === p2) return tmp1;\n    return item;\n  });\n}\nexport default function App() {\n  const [numberList, setNumberList] = useState(\n    initRandomArray(2, 30, numberInArray)\n  );\n  const [highlight, setHighlight] = useState([]);\n  const isRunning = useRef(false);\n  const actionIndexRef = useRef(0);\n  const sortActions = useRef([]);\n\n  const handleSelectionSort = () => {\n    sortActions.current = selectionSort(numberList);\n    actionIndexRef.current = 0;\n    alert(\"Sorting is finished, you can show the steps now.\");\n  };\n\n  const handleBubbleSort = () => {\n    sortActions.current = bubbleSort(numberList);\n    actionIndexRef.current = 0;\n    alert(\"Sorting is finished, you can show the steps now.\");\n  };\n\n  const handleShowIt = () => {\n    isRunning.current = true;\n    setTimeout(showNextAction, 500);\n  };\n  const handlePauseIt = () => {\n    isRunning.current = false;\n  };\n\n  const showNextAction = () => {\n    const item = sortActions.current[actionIndexRef.current];\n    if (item.action === ACTION_HIGHLIGHT) {\n      setHighlight([...item.payload]);\n    } else {\n      // console.log(actionIndexRef.current);\n      // console.log(item.action + \" \" + item.payload);\n      setNumberList((prevList) =>\n        swapAndReturn(prevList, item.payload[0], item.payload[1])\n      );\n    }\n    actionIndexRef.current = actionIndexRef.current + 1;\n    if (actionIndexRef.current < sortActions.current.length) {\n      // console.log(\"running=\" + isRunning.current);\n      if (!isRunning.current) {\n        return;\n      }\n      setTimeout(showNextAction, item.delay);\n    } else {\n      setTimeout(() => {\n        setHighlight([]);\n      }, 500);\n      isRunning.current = false;\n      alert(\"Done.\");\n    }\n  };\n\n  const handleReset = () => {\n    setNumberList(initRandomArray(2, 30, numberInArray));\n    setHighlight([]);\n    actionIndexRef.current = 0;\n    isRunning.current = false;\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>Sorting Algorithm</h1>\n      <TheBars numbers={numberList} highlighting={highlight} />\n      <button onClick={handleSelectionSort}>Selection Sort</button>\n      <button onClick={handleBubbleSort}>Bubble Sort</button>\n      <br />\n      <button onClick={handleShowIt}>Show the steps</button>\n      <button onClick={handlePauseIt}>Pause</button>\n      <button onClick={handleReset}>Reset</button>\n    </div>\n  );\n}\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}